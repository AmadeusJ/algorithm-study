삽입 정렬(Insertion Sort)은 **정렬되지 않은 배열을 앞에서부터 순차적으로 탐색하면서, 각 요소를 이미 정렬된 부분에 적절한 위치에 삽입하는 방식**의 정렬 알고리즘입니다. 

삽입 정렬은 정렬된 데이터가 추가될 때 효율적으로 작동하며, 데이터가 거의 정렬된 상태일 때 특히 빠르게 작동하는 특성이 있습니다.

---

### 삽입 정렬의 동작 방식

삽입 정렬은 다음과 같은 방식으로 동작합니다.

1. **첫 번째 요소는 이미 정렬된 상태**라고 가정합니다.
2. 두 번째 요소부터 시작하여 **현재 요소를 이전의 정렬된 부분과 비교**하여 적절한 위치를 찾고, 그 위치에 삽입합니다.
3. 이 과정을 리스트의 마지막 요소까지 반복하여, 배열 전체가 정렬되도록 합니다.

#### 예시

리스트 `[5, 3, 8, 4, 2]`를 삽입 정렬로 정렬하는 과정을 단계별로 살펴보겠습니다.

- 초기 상태: `[5, 3, 8, 4, 2]`

1. 첫 번째 요소 `5`는 이미 정렬된 상태로 간주합니다.
2. 두 번째 요소 `3`을 선택하여 `5`와 비교합니다.
   - `3`이 `5`보다 작으므로, `3`을 `5` 앞에 삽입합니다 → `[3, 5, 8, 4, 2]`
3. 세 번째 요소 `8`을 선택하여, 정렬된 부분 `[3, 5]`와 비교합니다.
   - `8`은 `5`보다 크므로, 제자리에 둡니다 → `[3, 5, 8, 4, 2]`
4. 네 번째 요소 `4`를 선택하여, 정렬된 부분 `[3, 5, 8]`와 비교합니다.
   - `4`는 `8`보다 작으므로, `8` 자리에 삽입합니다.
   - `4`는 `5`보다 작으므로, `5` 앞에 삽입합니다 → `[3, 4, 5, 8, 2]`
5. 다섯 번째 요소 `2`를 선택하여, 정렬된 부분 `[3, 4, 5, 8]`와 비교합니다.
   - `2`는 모든 요소보다 작으므로, 첫 번째 위치로 이동합니다 → `[2, 3, 4, 5, 8]`

이제 리스트가 정렬되었습니다.

---

### 코드 구현

삽입 정렬을 파이썬 코드로 구현하면 다음과 같습니다.

```python
def insertion_sort(arr):
    n = len(arr)
    for i in range(1, n):
        key = arr[i]
        j = i - 1
        # 정렬된 부분의 오른쪽 끝부터 key가 들어갈 위치를 찾음
        while j >= 0 and arr[j] > key:
            arr[j + 1] = arr[j]
            j -= 1
        arr[j + 1] = key  # 찾은 위치에 key를 삽입
    return arr
```

- **`key` 변수**: `key`는 현재 삽입할 요소를 저장합니다.
- **내부 반복문 `while`**: `key`가 들어갈 위치를 찾기 위해, 정렬된 부분의 오른쪽 끝에서부터 비교하면서 위치를 찾습니다.
- **위치 이동**: `key`보다 큰 요소들은 한 칸씩 오른쪽으로 이동하여 자리를 만듭니다.

---

### 시간 복잡도

- **최선의 경우**: \(O(n)\) – 배열이 이미 정렬되어 있는 경우
- **평균과 최악의 경우**: \(O(n^2)\) – 요소들이 역순으로 정렬되어 있는 경우

삽입 정렬은 **거의 정렬된 배열**에서는 빠르지만, 정렬이 많이 되어 있지 않은 배열에서는 효율이 떨어집니다.

---

### 삽입 정렬의 특징

1. **제자리 정렬(In-place Sort)**: 추가적인 메모리를 거의 사용하지 않으며, 리스트 내에서 정렬을 수행합니다.
2. **안정 정렬(Stable Sort)**: 동일한 값이 있는 요소의 순서를 유지합니다.
3. **거의 정렬된 배열에 효율적**: 데이터가 거의 정렬되어 있는 경우 빠르게 정렬할 수 있습니다.

삽입 정렬은 간단하고 직관적이어서, 작은 배열이나 거의 정렬된 배열을 정렬하는 데 적합합니다.